(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{468:function(t,s,a){"use strict";a.r(s);var e=a(2),i=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"crash-and-recovery-in-database"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#crash-and-recovery-in-database"}},[t._v("#")]),t._v(" Crash and Recovery in Database")]),t._v(" "),s("h2",{attrs:{id:"_1-prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-prerequisites"}},[t._v("#")]),t._v(" 1. Prerequisites")]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Steal policy")])]),t._v(":  Whether the DBMS allows an uncommitted txn to\noverwrite the most recent committed value of an\nobject in non-volatile storage."),s("br"),t._v(" "),s("strong",[t._v("Steal")]),t._v(": Allowed"),s("br"),t._v(" "),s("strong",[t._v("No-Steal")]),t._v(": Not Allowed")]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Force Policy")])]),t._v(": Whether the DBMS requires that all updates made by a txn are reflected on non-volatile storage before the txn can commit."),s("br"),t._v(" "),s("strong",[t._v("Force")]),t._v(": Required"),s("br"),t._v(" "),s("strong",[t._v("No-Force")]),t._v(": Not required")]),t._v(" "),s("h2",{attrs:{id:"_2-no-steal-force-vs-steal-no-force"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-no-steal-force-vs-steal-no-force"}},[t._v("#")]),t._v(" 2. No-Steal + Force VS Steal + No-Force")]),t._v(" "),s("h3",{attrs:{id:"_2-1-no-steal-force"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-no-steal-force"}},[t._v("#")]),t._v(" 2.1 No-Steal + Force")]),t._v(" "),s("p",[t._v("This approach is the easiest to implement:")]),t._v(" "),s("ul",[s("li",[t._v("Never have to undo changes of an aborted txn because the changes were not written to disk")]),t._v(" "),s("li",[t._v("Never have to redo changes of a committed txn because all the changes are guaranteed to be written to disk at commit time (assuming atomic hardware writes).")])]),t._v(" "),s("p",[s("strong",[t._v("Drawbacks")]),t._v(": cannot support write sets that exceed the amount of physical memory available.")]),t._v(" "),s("h3",{attrs:{id:"_2-2-steal-no-force"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-steal-no-force"}},[t._v("#")]),t._v(" 2.2 Steal + No-Force")]),t._v(" "),s("p",[t._v("Almost every DBMS uses NO-FORCE + STEAL(see later)."),s("br"),t._v("\nBest runtime performance but worst recovery performance.")]),t._v(" "),s("h2",{attrs:{id:"_3-shadow-paging"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-shadow-paging"}},[t._v("#")]),t._v(" 3. Shadow Paging")]),t._v(" "),s("p",[t._v("Instead of copying the entire database, the DBMS copies pages on write to create two versions:")]),t._v(" "),s("ul",[s("li",[t._v("Master: Contains only changes from committed txns.")]),t._v(" "),s("li",[t._v("Shadow: Temporary database with changes made from uncommitted txns.\nTo install updates when a txn commits, overwrite the root so it points to the shadow, therebyswapping the master and shadow.")])]),t._v(" "),s("p",[s("strong",[t._v("Buffer Pool Policy")]),t._v(": NO-STEAL + FORCE"),s("br"),t._v(" "),s("strong",[t._v("DrawBacks")]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("Copying the entire page table is expensive:\n"),s("ul",[s("li",[t._v("Use a page table structured like a B+tree (LMDB).")]),t._v(" "),s("li",[t._v("No need to copy entire tree, only need to copy paths in the tree that lead to updated leaf nodes.")])])]),t._v(" "),s("li",[t._v("Commit overhead is high:\n"),s("ul",[s("li",[t._v("Flush every updated page, page table, and root.")]),t._v(" "),s("li",[t._v("Data gets fragmented (bad for sequential scans).")]),t._v(" "),s("li",[t._v("Need garbage collection.")]),t._v(" "),s("li",[t._v("Only supports one writer txn at a time or txns in a batch.")])])])]),t._v(" "),s("h2",{attrs:{id:"_4-sqlite-pre-2010"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-sqlite-pre-2010"}},[t._v("#")]),t._v(" 4. Sqlite(pre-2010)")]),t._v(" "),s("p",[t._v('When a txn modifies a page, the DBMS copies the original page to a\nseparate journal file before overwriting master version.Called "rollback mode".'),s("br"),t._v("\nAfter restarting, if a journal file exists, then the DBMS restores it to undo changes from uncommitted txns.")]),t._v(" "),s("h2",{attrs:{id:"_5-write-ahead-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-write-ahead-log"}},[t._v("#")]),t._v(" 5. Write-Ahead Log")]),t._v(" "),s("p",[t._v("Maintain a log file separate from data files that contains the changes that txns make to database.")]),t._v(" "),s("ul",[s("li",[t._v("Assume that the log is on stable storage.")]),t._v(" "),s("li",[t._v("Log contains enough information to perform the necessary undo and redo actions to restore the database."),s("br"),t._v("\nDBMS must write to disk the log file records that correspond to changes made to a database object before it can flush that object to disk.")])]),t._v(" "),s("p",[s("strong",[t._v("Buffer Pool Policy")]),t._v(": STEAL + NO-FORCE")]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Protocol")])]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("The DBMS stages all a txn's log records in volatile storage (usually backed by buffer pool).")]),t._v(" "),s("li",[t._v("All log records pertaining to an updated page are written to non-volatile storage before the page itself is over-written in non-volatile storage.")]),t._v(" "),s("li",[t._v("A txn is not considered committed until all its log records have been written to stable storage.")])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Detail")])]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("Write a "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("mi",[t._v("B")]),s("mi",[t._v("E")]),s("mi",[t._v("G")]),s("mi",[t._v("I")]),s("mi",[t._v("N")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<BEGIN>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.72243em","vertical-align":"-0.0391em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" record to the log for each txn to mark its starting point.")]),t._v(" "),s("li",[t._v("When a txn finishes, the DBMS will:\n"),s("ul",[s("li",[t._v("Write a "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("mi",[t._v("C")]),s("mi",[t._v("O")]),s("mi",[t._v("M")]),s("mi",[t._v("M")]),s("mi",[t._v("I")]),s("mi",[t._v("T")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<COMMIT>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.72243em","vertical-align":"-0.0391em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" record on the log")]),t._v(" "),s("li",[t._v("Make sure that all log records are flushed before it returns an acknowledgement to application.")])])]),t._v(" "),s("li",[t._v("Each log entry contains information about the change to a single object:\n"),s("ul",[s("li",[t._v("Transaction Id")]),t._v(" "),s("li",[t._v("Object Id")]),t._v(" "),s("li",[t._v("Before Value (UNDO)")]),t._v(" "),s("li",[t._v("After Value (REDO)")])])])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Implement")])]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("Flushing the log buffer to disk every time a txn commits will become a bottleneck.")]),t._v(" "),s("li",[t._v("The DBMS can use the group commit optimization to batch multiple log flushes together to amortize overhead.\n"),s("ul",[s("li",[t._v("When the buffer is full, flush it to disk.")]),t._v(" "),s("li",[t._v("Or if there is a timeout (e.g., 5 ms).")])])])]),t._v(" "),s("h2",{attrs:{id:"_6-log-scheme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-log-scheme"}},[t._v("#")]),t._v(" 6. Log Scheme")]),t._v(" "),s("p",[s("strong",[t._v("Physical Logging")])]),t._v(" "),s("ul",[s("li",[t._v("Record the byte-level changes made to a specific page.")]),t._v(" "),s("li",[t._v("Example: git diff")])]),t._v(" "),s("p",[s("strong",[t._v("Logical Logging")])]),t._v(" "),s("ul",[s("li",[t._v("Record the high-level operations executed by txns.")]),t._v(" "),s("li",[t._v("Example: UPDATE, DELETE, and INSERT queries.")])]),t._v(" "),s("p",[s("strong",[t._v("Physiological Logging")])]),t._v(" "),s("ul",[s("li",[t._v("Hybrid approach with byte-level changes for a single tuple identified by page id + slot number.")]),t._v(" "),s("li",[t._v("Does not specify organization of the page.")])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Physical VS Logical Logging")])])]),t._v(" "),s("ul",[s("li",[t._v("Logical logging requires less data written in each log record than physical logging.")]),t._v(" "),s("li",[t._v("Difficult to implement recovery with logical logging if you have concurrent txns running at lower isolation levels.\n"),s("ul",[s("li",[t._v("Hard to determine which parts of the database may have been modified by a query before crash.")]),t._v(" "),s("li",[t._v("Also takes longer to recover because you must re-execute\nevery txn all over again.")])])])]),t._v(" "),s("h2",{attrs:{id:"_7-log-structured-systems"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-log-structured-systems"}},[t._v("#")]),t._v(" 7. Log-Structured Systems")]),t._v(" "),s("p",[t._v("Log-structured DBMSs do not have dirty pages.")]),t._v(" "),s("ul",[s("li",[t._v("Any page retrieved from disk is immutable.")])]),t._v(" "),s("p",[t._v("The DBMS buffers log records in in-memory\npages (MemTable). If this buffer is full, it must be flushed to disk. But it may contain changes uncommitted txns.")]),t._v(" "),s("p",[t._v("These DBMSs still maintain a separate WAL to\nrecreate the MemTable on crash.")]),t._v(" "),s("h2",{attrs:{id:"_8-checkpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-checkpoint"}},[t._v("#")]),t._v(" 8. Checkpoint")]),t._v(" "),s("p",[t._v("The WAL will grow forever."),s("br"),t._v("\nAfter a crash, the DBMS must replay the entire log, which will take a long time."),s("br"),t._v("\nThe DBMS periodically takes a checkpoint where it flushes all buffers out to disk.")]),t._v(" "),s("ul",[s("li",[t._v("This provides a hint on how far back it needs to replay\nthe WAL after a crash.")])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("Protocal")])]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("Pause all queries.")]),t._v(" "),s("li",[t._v("Flush all WAL records in memory to disk.")]),t._v(" "),s("li",[t._v("Flush all modified pages in the buffer pool to disk.")]),t._v(" "),s("li",[t._v("Write a "),s("CHECKPOINT",[t._v(" entry to WAL and flush to disk.")])],1),t._v(" "),s("li",[t._v("Resume queries.")])]),t._v(" "),s("p",[s("strong",[t._v("Recovery")]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("In the redo phase, the system replays updates of all transactions by scanning the log forward from the last checkpoint.\n"),s("ul",[s("li",[t._v("The list of transactions to be rolled back, undo-list, is initially set to the list L in the "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("mi",[t._v("c")]),s("mi",[t._v("h")]),s("mi",[t._v("e")]),s("mi",[t._v("c")]),s("mi",[t._v("k")]),s("mi",[t._v("p")]),s("mi",[t._v("o")]),s("mi",[t._v("i")]),s("mi",[t._v("n")]),s("mi",[t._v("t")]),s("mtext"),s("mi",[t._v("L")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<checkpoint \\ L>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord mathit"},[t._v("c")]),s("span",{staticClass:"mord mathit"},[t._v("h")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit"},[t._v("c")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" log record.")]),t._v(" "),s("li",[t._v("Whenever a normal log record of the form "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("X")]),s("mi",[t._v("j")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("V")]),s("mn",[t._v("1")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("V")]),s("mn",[t._v("2")])],1),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i, X_j, V_1, V_2>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.07847em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(", or a redo-only log record of the form "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("X")]),s("mi",[t._v("j")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("V")]),s("mn",[t._v("2")])],1),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i, X_j, V_2>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.07847em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" is encountered, the operation is redone; that is, the value "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("V")]),s("mn",[t._v("2")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("V_2")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" is written to data item "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("X")]),s("mi",[t._v("j")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X_j")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.969438em","vertical-align":"-0.286108em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.07847em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(".")]),t._v(" "),s("li",[t._v("Whenever a log record of the form "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("s")]),s("mi",[t._v("t")]),s("mi",[t._v("a")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ start>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" is found, "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("T_i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" is added to undo-list.")]),t._v(" "),s("li",[t._v("Whenever a log record of the form "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("a")]),s("mi",[t._v("b")]),s("mi",[t._v("o")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ abort>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("b")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" or "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("c")]),s("mi",[t._v("o")]),s("mi",[t._v("m")]),s("mi",[t._v("m")]),s("mi",[t._v("i")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ commit>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("c")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" is found, "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("T_i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" is removed from undo-list.")])])]),t._v(" "),s("li",[t._v("In the undo phase, the system rolls back all transactions in the undo-list. It performs rollback by scanning the log backward from the end.\n"),s("ul",[s("li",[t._v("Whenever it finds a log record belonging to a transaction in the undo-list, it performs undo actions just as if the log record had been found during the rollback of a failed transaction.")]),t._v(" "),s("li",[t._v("When the system finds a "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("s")]),s("mi",[t._v("t")]),s("mi",[t._v("a")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ start>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" log record for a transaction "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("T_i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" in undolist, it writes a "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("a")]),s("mi",[t._v("b")]),s("mi",[t._v("o")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ abort>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("b")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" log record to the log and removes "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("T_i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" from undolist.")]),t._v(" "),s("li",[t._v("The undo phase terminates once undo-list becomes empty, that is, the system has found "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("T")]),s("mi",[t._v("i")])],1),s("mtext"),s("mi",[t._v("s")]),s("mi",[t._v("t")]),s("mi",[t._v("a")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mo",[t._v(">")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("<T_i \\ start>")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord mspace"}),s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mrel"},[t._v(">")])])])]),t._v(" log records for all transactions that were initially in undo-list.")])])])]),t._v(" "),s("p",[t._v("After the undo phase of recovery terminates, normal transaction processing can resume.")]),t._v(" "),s("p",[s("strong",[t._v("DrawBacks")]),t._v(":")]),t._v(" "),s("ul",[s("li",[t._v("requires that all updates to the database be temporarily suspended while the checkpoint is in progress.")]),t._v(" "),s("li",[t._v("the DBMS must stall txns when it takes a checkpoint to ensure a consistent snapshot.")]),t._v(" "),s("li",[t._v("Scanning the log to find uncommitted txns can take a long time.")])])])}),[],!1,null,null,null);s.default=i.exports}}]);